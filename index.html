<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>pixebuilder2</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Almarai&display=swap');
  * {
    margin: 0; padding: 0;
    box-sizing: border-box;
  }
  body, html {
    height: 100%;
    font-family: 'Almarai', sans-serif;
    background: linear-gradient(135deg, #020111 0%, #3a3a52 100%);
    color: #eaeaea;
    overflow-x: hidden;
  }
  body::before {
    content: "";
    position: fixed;
    top: -20%;
    left: -20%;
    width: 140%;
    height: 140%;
    background:
      radial-gradient(circle at 40% 40%, #00f6ff88, transparent 25%),
      radial-gradient(circle at 60% 70%, #ff00d488, transparent 30%);
    animation: floatbg 25s ease-in-out infinite;
    z-index: -1;
  }
  @keyframes floatbg {
    0%, 100% { transform: translate(0,0) scale(1); }
    50% { transform: translate(40px, 40px) scale(1.05); }
  }
  .container {
    max-width: 1000px;
    margin: 30px auto 60px;
    background: #121629cc;
    border-radius: 20px;
    padding: 30px 45px;
    box-shadow: 0 0 40px #00f6ffbb;
  }
  nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 35px;
  }
  nav h1 {
    color: #00f6ffcc;
    font-weight: 900;
    font-size: 2rem;
    user-select: none;
  }
  nav button {
    background: #085d77cc;
    border: none;
    color: #000;
    font-weight: 700;
    font-size: 1rem;
    padding: 8px 18px;
    border-radius: 25px;
    cursor: pointer;
    user-select: none;
    box-shadow: 0 0 18px #85b3b4cc;
    transition: background-color 0.3s ease;
  }
  nav button:hover {
    background: #00bcd4cc;
    color: #fff;
  }

  /* بحث */
  #search-container {
    margin-bottom: 25px;
    text-align: right;
  }
  #search-input {
    width: 100%;
    max-width: 400px;
    padding: 14px 20px;
    border-radius: 25px;
    border: none;
    font-size: 1.1rem;
    box-shadow: inset 0 0 15px #00f6ff55;
    background: #1a1e2a;
    color: #e0ffffdd;
    font-family: 'Almarai', sans-serif;
  }
  #search-input:focus {
    outline: none;
    box-shadow: 0 0 20px #00f6ffbb;
  }

  /* المشروع */
  .project-card {
    background: #1a1e2a;
    padding: 22px 28px;
    border-radius: 20px;
    margin-bottom: 25px;
    box-shadow: 0 0 28px #00f6ff88;
    transition: transform 0.3s ease;
    user-select: none;
    position: relative;
  }
  .project-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 0 40px #00f6ffcc;
  }
  .project-title {
    font-weight: 900;
    font-size: 1.45rem;
    margin-bottom: 12px;
    color: #00ffffdd;
  }
  .project-type {
    position: absolute;
    top: 20px;
    right: 25px;
    background: #ff4b4bcc;
    padding: 4px 12px;
    font-weight: 700;
    font-size: 0.85rem;
    border-radius: 15px;
    user-select: none;
    color: white;
    text-transform: capitalize;
    box-shadow: 0 0 10px #ff4b4bcc;
  }
  .project-desc {
    font-size: 1.05rem;
    color: #a1e8ffcc;
    margin-bottom: 20px;
    line-height: 1.4;
  }
  .project-actions {
    display: flex;
    gap: 15px;
  }
  .project-actions button {
    background: #00f6ffcc;
    border: none;
    padding: 10px 18px;
    border-radius: 18px;
    font-weight: 700;
    color: #000;
    cursor: pointer;
    font-size: 1rem;
    box-shadow: 0 0 15px #00f6ffcc;
    user-select: none;
    transition: background-color 0.3s ease;
  }
  .project-actions button:hover {
    background: #00bcd4cc;
    color: #fff;
  }

  /* نموذج إضافة مشروع */
  form#add-project-form {
    margin-top: 35px;
  }
  label {
    display: block;
    margin-bottom: 8px;
    font-weight: 700;
    color: #66ffffcc;
  }
  input[type="text"], textarea, select {
    width: 100%;
    padding: 15px 18px;
    margin-bottom: 22px;
    border-radius: 20px;
    border: none;
    background: #1a1e2a;
    color: #e0ffffdd;
    font-size: 1.2rem;
    box-shadow: inset 0 0 15px #00f6ff55;
    font-family: 'Almarai', sans-serif;
  }
  input[type="text"]:focus, textarea:focus, select:focus {
    outline: none;
    box-shadow: 0 0 22px #00f6ffbb;
  }
  textarea {
    resize: vertical;
    min-height: 110px;
  }
  button.submit-btn {
    background: #00f6ffcc;
    color: #000;
    border: none;
    border-radius: 30px;
    padding: 18px 28px;
    font-size: 1.3rem;
    font-weight: 900;
    cursor: pointer;
    transition: background-color 0.35s ease;
    user-select: none;
    box-shadow: 0 0 22px #00f6ffcc;
  }
  button.submit-btn:hover {
    background: #00bcd4;
    box-shadow: 0 0 30px #00f6ffee;
    color: #fff;
  }

  /* نافذة المهام */
  #tasks-modal {
    position: fixed;
    top: 0; left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0,0,0,0.88);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 9999;
  }
  #tasks-modal.active {
    display: flex;
  }
  #tasks-content {
    background: #121629dd;
    padding: 28px 35px;
    border-radius: 20px;
    max-width: 520px;
    width: 95%;
    max-height: 85vh;
    overflow-y: auto;
    box-shadow: 0 0 40px #00f6ffcc;
    color: #e0ffffdd;
  }
  #tasks-content h3 {
    margin-bottom: 25px;
    user-select: none;
    font-size: 1.5rem;
    font-weight: 900;
  }
  #tasks-list {
    list-style: none;
    margin-bottom: 28px;
  }
  #tasks-list li {
    background: #1a1e2a;
    margin-bottom: 15px;
    padding: 15px 18px;
    border-radius: 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    user-select: none;
    font-size: 1.1rem;
  }
  #tasks-list li.completed {
    text-decoration: line-through;
    opacity: 0.6;
  }
  #tasks-list li .task-text {
    flex-grow: 1;
    cursor: pointer;
  }
  #tasks-list li button.delete-task {
    background: #ff4b4bcc;
    border: none;
    border-radius: 15px;
    color: #fff;
    font-weight: 700;
    cursor: pointer;
    padding: 5px 14px;
    transition: background-color 0.3s ease;
    margin-left: 15px;
  }
  #tasks-list li button.delete-task:hover {
    background: #d63333cc;
  }
  #add-task-form {
    display: flex;
    gap: 15px;
  }
  #add-task-form input[type="text"] {
    flex-grow: 1;
    font-size: 1.1rem;
    padding: 14px 18px;
    border-radius: 20px;
    border: none;
    background: #1a1e2a;
    color: #e0ffffdd;
    box-shadow: inset 0 0 15px #00f6ff55;
  }
  #add-task-form input[type="text"]:focus {
    outline: none;
    box-shadow: 0 0 22px #00f6ffbb;
  }
  #add-task-form button {
    background: #00f6ffcc;
    border: none;
    border-radius: 25px;
    padding: 14px 26px;
    font-size: 1.2rem;
    font-weight: 900;
    cursor: pointer;
    box-shadow: 0 0 22px #00f6ffcc;
    transition: background-color 0.3s ease;
  }
  #add-task-form button:hover {
    background: #00bcd4cc;
    color: #fff;
  }
  #close-tasks-btn {
    background: #ff4b4bcc;
    border: none;
    color: white;
    font-weight: 900;
    padding: 10px 18px;
    border-radius: 25px;
    cursor: pointer;
    margin-bottom: 22px;
    transition: background-color 0.3s ease;
  }
  #close-tasks-btn:hover {
    background: #d63333cc;
  }

  /* تعديل المشاريع */
  .edit-project-btn {
    background: #ffb400cc;
    border: none;
    padding: 8px 18px;
    border-radius: 18px;
    font-weight: 700;
    color: #000;
    cursor: pointer;
    font-size: 1rem;
    box-shadow: 0 0 15px #ffb400cc;
    user-select: none;
    transition: background-color 0.3s ease;
  }
  .edit-project-btn:hover {
    background: #ffca28cc;
  }

  /* نموذج تعديل مشروع */
  #edit-project-modal {
    position: fixed;
    top: 0; left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0,0,0,0.85);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 9998;
  }
  #edit-project-modal.active {
    display: flex;
  }
  #edit-project-content {
    background: #121629dd;
    padding: 28px 35px;
    border-radius: 20px;
    max-width: 450px;
    width: 95%;
    box-shadow: 0 0 30px #ffb400cc;
    color: #fff8cc;
  }
  #edit-project-content h3 {
    margin-bottom: 25px;
    font-size: 1.5rem;
    font-weight: 900;
    user-select: none;
  }
  #edit-project-content label {
    color: #fff8cc;
  }
  #edit-project-content input[type="text"],
  #edit-project-content textarea,
  #edit-project-content select {
    width: 100%;
    padding: 14px 18px;
    margin-bottom: 20px;
    border-radius: 15px;
    border: none;
    background: #1a1e2a;
    color: #fff8cc;
    font-size: 1.1rem;
    box-shadow: inset 0 0 12px #ffb400aa;
    font-family: 'Almarai', sans-serif;
  }
  #edit-project-content textarea {
    min-height: 90px;
    resize: vertical;
  }
  #edit-project-content input[type="text"]:focus,
  #edit-project-content textarea:focus,
  #edit-project-content select:focus {
    outline: none;
    box-shadow: 0 0 20px #ffb400cc;
  }
  #edit-project-content button {
    background: #ffb400cc;
    border: none;
    color: #000;
    font-weight: 900;
    padding: 16px 28px;
    border-radius: 25px;
    font-size: 1.2rem;
    cursor: pointer;
    box-shadow: 0 0 22px #ffb400cc;
    transition: background-color 0.3s ease;
  }
  #edit-project-content button:hover {
    background: #ffca28cc;
    color: #000;
  }
  #edit-cancel-btn {
    background: #777;
    color: white;
    margin-left: 15px;
  }
  #edit-cancel-btn:hover {
    background: #555;
  }

  /* متجاوب */
  @media(max-width: 650px) {
    .container {
      margin: 20px 15px 50px;
      padding: 25px 20px;
    }
    nav h1 {
      font-size: 1.5rem;
    }
    #tasks-content {
      max-width: 90vw;
      max-height: 75vh;
      padding: 22px 22px;
    }
    #edit-project-content {
      max-width: 90vw;
      padding: 22px 22px;
    }
    input[type="text"], textarea, select, #search-input {
      font-size: 1rem;
    }
    button.submit-btn, #add-task-form button, .project-actions button, .edit-project-btn {
      font-size: 1rem;
      padding: 14px 22px;
    }
  }
</style>
</head>
<body>
<div class="container" role="main">
  <nav aria-label="الرئيسية">
    <h1 id="site-title">pixelbuilder2</h1>
    <button id="settings-btn" aria-label="إعدادات الموقع">⚙️</button>
  </nav>

  <section id="dashboard-section" tabindex="0" aria-label="لوحة التحكم">
    <div id="search-container">
      <input type="text" id="search-input" placeholder="ابحث عن مشروع..." aria-label="بحث عن مشروع" autocomplete="off" />
    </div>

    <div id="projects-container" aria-live="polite">
      <div id="project-list"></div>
      <form id="add-project-form" autocomplete="off" novalidate>
        <label for="project-title">عنوان المشروع</label>
        <input type="text" id="project-title" placeholder="اكتب عنوان المشروع هنا" required />
        
        <label for="project-type">نوع المشروع</label>
        <select id="project-type" required>
          <option value="" disabled selected>اختر نوع المشروع</option>
          <option value="تجاري">تجاري</option>
          <option value="صناعي">صناعي</option>
          <option value="خدمي">خدمي</option>
          <option value="زراعي">زراعي</option>
          <option value="تعليمي">تعليمي</option>
          <option value="تقني">تقني</option>
          <option value="فني">فني</option>
          <option value="آخر">آخر</option>
        </select>

        <label for="project-desc">وصف المشروع</label>
        <textarea id="project-desc" placeholder="اكتب وصف المشروع هنا" required></textarea>
        <button type="submit" class="submit-btn">إضافة المشروع</button>
      </form>
    </div>
  </section>
</div>

<!-- نافذة مهام المشروع -->
<div id="tasks-modal" role="dialog" aria-modal="true" aria-labelledby="tasks-title">
  <div id="tasks-content">
    <button id="close-tasks-btn" aria-label="إغلاق قائمة المهام">✖ إغلاق</button>
    <h3 id="tasks-title">مهام المشروع</h3>
    <ul id="tasks-list"></ul>
    <form id="add-task-form" autocomplete="off" novalidate>
      <input type="text" id="new-task-input" placeholder="أضف مهمة جديدة" aria-label="أضف مهمة جديدة" required />
      <button type="submit" class="submit-btn">إضافة</button>
    </form>
  </div>
</div>

<!-- نافذة تعديل المشروع -->
<div id="edit-project-modal" role="dialog" aria-modal="true" aria-labelledby="edit-project-title">
  <div id="edit-project-content">
    <h3 id="edit-project-title">تعديل المشروع</h3>
    <form id="edit-project-form" autocomplete="off" novalidate>
      <label for="edit-project-title-input">عنوان المشروع</label>
      <input type="text" id="edit-project-title-input" required />

      <label for="edit-project-type-select">نوع المشروع</label>
      <select id="edit-project-type-select" required>
        <option value="" disabled>اختر نوع المشروع</option>
        <option value="تجاري">تجاري</option>
        <option value="صناعي">صناعي</option>
        <option value="خدمي">خدمي</option>
        <option value="زراعي">زراعي</option>
        <option value="تعليمي">تعليمي</option>
        <option value="تقني">تقني</option>
        <option value="فني">فني</option>
        <option value="آخر">آخر</option>
      </select>

      <label for="edit-project-desc-textarea">وصف المشروع</label>
      <textarea id="edit-project-desc-textarea" required></textarea>

      <button type="submit" class="submit-btn">حفظ التعديلات</button>
      <button type="button" id="edit-cancel-btn">إلغاء</button>
    </form>
  </div>
</div>

<!-- نافذة الإعدادات -->
<div id="settings-modal" role="dialog" aria-modal="true" aria-labelledby="settings-title" style="display:none;">
  <div style="background:#121629dd; padding:25px 30px; border-radius:20px; max-width:400px; margin: 60px auto; color:#00ffffcc; box-shadow:0 0 35px #00f6ffcc;">
    <h3 id="settings-title" style="user-select:none; margin-bottom:20px;">إعدادات الموقع</h3>
    <form id="settings-form" autocomplete="off" novalidate>
      <label for="site-title-input">اسم الموقع</label>
      <input type="text" id="site-title-input" value="منصة مشاريع الشركات الصغيرة" required />
      <label for="site-logo-input">رابط شعار الموقع (اختياري)</label>
      <input type="text" id="site-logo-input" placeholder="https://example.com/logo.png" />
      <button type="submit" class="submit-btn">حفظ الإعدادات</button>
      <button type="button" id="settings-cancel-btn" style="background:#ff4b4bcc; color:#fff; margin-left: 10px;">إلغاء</button>
    </form>
  </div>
</div>

<script>
  // الحالة
  let projects = JSON.parse(localStorage.getItem('projects')) || [];
  let currentProjectId = null;
  let editingProjectId = null;

  // DOM عناصر
  const projectListDiv = document.getElementById('project-list');
  const addProjectForm = document.getElementById('add-project-form');
  const projectTitleInput = document.getElementById('project-title');
  const projectDescInput = document.getElementById('project-desc');
  const projectTypeSelect = document.getElementById('project-type');

  const tasksModal = document.getElementById('tasks-modal');
  const closeTasksBtn = document.getElementById('close-tasks-btn');
  const tasksList = document.getElementById('tasks-list');
  const addTaskForm = document.getElementById('add-task-form');
  const newTaskInput = document.getElementById('new-task-input');
  const tasksTitle = document.getElementById('tasks-title');

  const editProjectModal = document.getElementById('edit-project-modal');
  const editProjectForm = document.getElementById('edit-project-form');
  const editProjectTitleInput = document.getElementById('edit-project-title-input');
  const editProjectDescTextarea = document.getElementById('edit-project-desc-textarea');
  const editProjectTypeSelect = document.getElementById('edit-project-type-select');
  const editCancelBtn = document.getElementById('edit-cancel-btn');

  const settingsModal = document.getElementById('settings-modal');
  const settingsBtn = document.getElementById('settings-btn');
  const settingsForm = document.getElementById('settings-form');
  const settingsCancelBtn = document.getElementById('settings-cancel-btn');
  const siteTitleElement = document.getElementById('site-title');
  const siteTitleInput = document.getElementById('site-title-input');
  const siteLogoInput = document.getElementById('site-logo-input');

  const searchInput = document.getElementById('search-input');

  // تحميل الإعدادات
  function loadSettings() {
    const title = localStorage.getItem('siteTitle');
    const logo = localStorage.getItem('siteLogo');
    if(title) siteTitleElement.textContent = title;
    if(logo) {
      // إزالة العنوان ونضع الصورة
      siteTitleElement.innerHTML = `<img src="${logo}" alt="${title || 'شعار الموقع'}" style="height:40px; vertical-align: middle; border-radius: 8px; box-shadow: 0 0 12px #00f6ffbb;">`;
    }
    siteTitleInput.value = title || 'منصة مشاريع الشركات الصغيرة';
    siteLogoInput.value = logo || '';
  }

  // حفظ الإعدادات
  settingsForm.addEventListener('submit', e => {
    e.preventDefault();
    const newTitle = siteTitleInput.value.trim() || 'منصة مشاريع الشركات الصغيرة';
    const newLogo = siteLogoInput.value.trim();
    localStorage.setItem('siteTitle', newTitle);
    if(newLogo) {
      localStorage.setItem('siteLogo', newLogo);
    } else {
      localStorage.removeItem('siteLogo');
    }
    loadSettings();
    closeSettingsModal();
  });

  settingsCancelBtn.addEventListener('click', () => {
    closeSettingsModal();
  });

  settingsBtn.addEventListener('click', () => {
    openSettingsModal();
  });

  function openSettingsModal() {
    settingsModal.style.display = 'block';
    siteTitleInput.focus();
  }
  function closeSettingsModal() {
    settingsModal.style.display = 'none';
  }

  // تخزين المشاريع
  function saveProjects() {
    localStorage.setItem('projects', JSON.stringify(projects));
  }

  // عرض المشاريع مع البحث
  function renderProjects() {
    const query = searchInput.value.trim().toLowerCase();
    projectListDiv.innerHTML = '';
    let filtered = projects;

    if(query) {
      filtered = projects.filter(p =>
        p.title.toLowerCase().includes(query) ||
        p.description.toLowerCase().includes(query) ||
        p.type.toLowerCase().includes(query)
      );
    }
    if(filtered.length === 0) {
      projectListDiv.textContent = 'لا توجد مشاريع مطابقة.';
      return;
    }
    filtered.forEach(proj => {
      const card = document.createElement('div');
      card.className = 'project-card';

      const title = document.createElement('div');
      title.className = 'project-title';
      title.textContent = proj.title;
      card.appendChild(title);

      const typeLabel = document.createElement('div');
      typeLabel.className = 'project-type';
      typeLabel.textContent = proj.type;
      card.appendChild(typeLabel);

      const desc = document.createElement('div');
      desc.className = 'project-desc';
      desc.textContent = proj.description;
      card.appendChild(desc);

      const actionsDiv = document.createElement('div');
      actionsDiv.className = 'project-actions';

      // زر المهام
      const tasksBtn = document.createElement('button');
      tasksBtn.textContent = 'مهام المشروع';
      tasksBtn.onclick = () => openTasksModal(proj.id);
      actionsDiv.appendChild(tasksBtn);

      // زر تعديل المشروع
      const editBtn = document.createElement('button');
      editBtn.textContent = 'تعديل المشروع';
      editBtn.className = 'edit-project-btn';
      editBtn.onclick = () => openEditProjectModal(proj.id);
      actionsDiv.appendChild(editBtn);

      card.appendChild(actionsDiv);

      projectListDiv.appendChild(card);
    });
  }

  // فتح نافذة المهام
  function openTasksModal(projectId) {
    currentProjectId = projectId;
    const project = projects.find(p => p.id === projectId);
    tasksTitle.textContent = `مهام المشروع: ${project.title}`;
    renderTasks();
    tasksModal.classList.add('active');
  }
  function closeTasksModal() {
    tasksModal.classList.remove('active');
    newTaskInput.value = '';
  }

  // عرض المهام
  function renderTasks() {
    tasksList.innerHTML = '';
    const project = projects.find(p => p.id === currentProjectId);
    if (!project || !project.tasks || project.tasks.length === 0) {
      const li = document.createElement('li');
      li.textContent = 'لا توجد مهام حتى الآن.';
      tasksList.appendChild(li);
      return;
    }
    project.tasks.forEach((task, index) => {
      const li = document.createElement('li');
      if (task.completed) li.classList.add('completed');

      const taskSpan = document.createElement('span');
      taskSpan.className = 'task-text';
      taskSpan.textContent = task.text;
      taskSpan.title = 'انقر لإكمال/إلغاء المهمة';
      taskSpan.onclick = () => {
        task.completed = !task.completed;
        saveProjects();
        renderTasks();
      };
      li.appendChild(taskSpan);

      const dateSpan = document.createElement('small');
      dateSpan.style.marginRight = '10px';
      dateSpan.style.color = '#66ffffaa';
      dateSpan.textContent = new Date(task.createdAt).toLocaleDateString('ar-EG');
      li.appendChild(dateSpan);

      const delBtn = document.createElement('button');
      delBtn.className = 'delete-task';
      delBtn.textContent = '×';
      delBtn.title = 'حذف المهمة';
      delBtn.onclick = () => {
        if (confirm('هل أنت متأكد من حذف المهمة؟')) {
          project.tasks.splice(index, 1);
          saveProjects();
          renderTasks();
        }
      };
      li.appendChild(delBtn);

      tasksList.appendChild(li);
    });
  }

  // إضافة مشروع جديد
  addProjectForm.addEventListener('submit', e => {
    e.preventDefault();
    const title = projectTitleInput.value.trim();
    const desc = projectDescInput.value.trim();
    const type = projectTypeSelect.value;
    if (!title || !desc || !type) {
      alert('يرجى ملء جميع الحقول.');
      return;
    }
    const newProject = {
      id: Date.now(),
      title,
      description: desc,
      type,
      tasks: []
    };
    projects.push(newProject);
    saveProjects();
    renderProjects();
    addProjectForm.reset();
  });

  // إضافة مهمة جديدة
  addTaskForm.addEventListener('submit', e => {
    e.preventDefault();
    const text = newTaskInput.value.trim();
    if (!text) {
      alert('يرجى كتابة مهمة.');
      return;
    }
    const project = projects.find(p => p.id === currentProjectId);
    if (!project.tasks) project.tasks = [];
    project.tasks.push({ text, completed: false, createdAt: Date.now() });
    saveProjects();
    renderTasks();
    newTaskInput.value = '';
  });

  closeTasksBtn.addEventListener('click', closeTasksModal);

  // فتح نافذة تعديل المشروع
  function openEditProjectModal(projectId) {
    editingProjectId = projectId;
    const project = projects.find(p => p.id === projectId);
    if(!project) return;
    editProjectTitleInput.value = project.title;
    editProjectDescTextarea.value = project.description;
    editProjectTypeSelect.value = project.type;
    editProjectModal.classList.add('active');
  }
  // إغلاق تعديل المشروع
  function closeEditProjectModal() {
    editingProjectId = null;
    editProjectModal.classList.remove('active');
  }
  editCancelBtn.addEventListener('click', closeEditProjectModal);
  editProjectForm.addEventListener('submit', e => {
    e.preventDefault();
    const title = editProjectTitleInput.value.trim();
    const desc = editProjectDescTextarea.value.trim();
    const type = editProjectTypeSelect.value;
    if(!title || !desc || !type) {
      alert('يرجى ملء جميع الحقول.');
      return;
    }
    const project = projects.find(p => p.id === editingProjectId);
    if(!project) return;
    project.title = title;
    project.description = desc;
    project.type = type;
    saveProjects();
    renderProjects();
    closeEditProjectModal();
  });

  // البحث
  searchInput.addEventListener('input', renderProjects);

  // بدء الموقع
  loadSettings();
  renderProjects();
</script>
</body>
</html>
